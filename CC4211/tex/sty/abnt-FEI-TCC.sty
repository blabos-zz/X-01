%% Este sty é baseado em um documento produzido pela UFSC
%% Autor original: Jonathann (http://anotacoes.wetpaint.com/account/jonathann)

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{sty/abnt-FEI-TCC}

% citações na forma alf
\RequirePackage[alf]{abntcite}

% abnt na forma alfa (como as normas abnt)
\RequirePackage{abnt-alf}

\RequirePackage{url}
\RequirePackage[brazil]{babel}

% estilo da bibliografia
\bibliographystyle{abnt-alf}

% para que entenda o @
\makeatletter


%%%%%%%%%%%%%%%%%%%%%
%%%% R E S U M O %%%%
%%%%%%%%%%%%%%%%%%%%%
%tira a identação da primeira linha (parágrafo)
\renewenvironment{resumo}%
{%
\if@openright\cleardoublepage\else\clearpage\fi%
\setchaptertype{resumo}
\pretextualchapter{\abstractname}%
\begin{espacosimples}%
\setlength{\parindent}{0cm}
}%
{
\setlength{\parindent}{.7cm}
\end{espacosimples}\newpage
}%


%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% A B S T R A C T %%%%
%%%%%%%%%%%%%%%%%%%%%%%%%
%tira a identação da primeira linha (parágrafo)
\renewenvironment{abstract}%
{%
\if@openright\cleardoublepage\else\clearpage\fi%
\setchaptertype{abstract}
\pretextualchapter{\ABNTabstractname}%
\begin{espacosimples}%
\setlength{\parindent}{0cm}
}%
{
\setlength{\parindent}{0.7cm}
\end{espacosimples}\newpage
}%abstract


% altera os tíulos de referência e anexo para ficarem em maiúsculo
\renewcommand{\ABNTbibliographyname}{REFER\^ENCIAS}
\renewcommand{\annexname}{ANEXOS}


% Altera título do capítulo para negrito sem itálico 12pt
\renewcommand{\ABNTCHAPTERfont}{\normalfont\bfseries}
\renewcommand{\ABNTtocchapterfont}{\ABNTchapterfont\upshape}
\renewcommand{\ABNTchaptersize}{\large}

% MUDA OS CAPÍTULOS PARA FICAREM EM MAIÚSCULO NO SUMÁRIO
\let \oldchap=\chapter{}
\renewcommand*{\chapter}{%
\secdef{\Chap}{\ChapS}%
}
\newcommand\ChapS[1]{\oldchap*{\MakeUppercase{#1}}}
\newcommand\Chap[2][]{\oldchap[\MakeUppercase{#1}]{\MakeUppercase{#2}}}


% muda as seções para ficarem em negrito no sumário
\let \oldsect=\section{}
\renewcommand*{\section}{%
\secdef{\Sect}{\SectS}%
}
\newcommand\SectS[1]{\oldsect*{\bfseries{#1}}}
\newcommand\Sect[2][]{\oldsect[\bfseries{#1}]{#2}}

% Altera título das seções para 12pt
\renewcommand{\ABNTsectionfontsize}{\large}
\renewcommand{\ABNTsectionfont}{\bfseries}

% Altera título das subseções para 12pt
\renewcommand{\ABNTsubsectionfont}{\large}